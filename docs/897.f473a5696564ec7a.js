"use strict";(self.webpackChunkapp1=self.webpackChunkapp1||[]).push([[897],{7897:(M,u,i)=>{i.r(u),i.d(u,{AddressModule:()=>Y});var a=i(6895),m=i(1483),n=i(4006),e=i(4650),_=i(4015),p=i(8482);function g(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h6",7),e._uU(3),e.qZA(),e.TgZ(4,"button",8),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteAddress(l._id))}),e._UZ(5,"i",9),e._uU(6,"Remove "),e.qZA()(),e.TgZ(7,"table")(8,"tr")(9,"td"),e._uU(10,"Name :"),e.qZA(),e._UZ(11,"td"),e.TgZ(12,"td"),e._uU(13),e.qZA()(),e.TgZ(14,"tr")(15,"td"),e._uU(16,"City :"),e.qZA(),e._UZ(17,"td"),e.TgZ(18,"td"),e._uU(19),e.qZA()(),e.TgZ(20,"tr")(21,"td"),e._uU(22,"Address details :"),e.qZA(),e._UZ(23,"td"),e.TgZ(24,"td"),e._uU(25),e.qZA()(),e.TgZ(26,"tr")(27,"td"),e._uU(28,"Phone :"),e.qZA(),e._UZ(29,"td"),e.TgZ(30,"td"),e._uU(31),e.qZA()()()()}if(2&s){const t=r.$implicit,o=r.index;e.ekj("border-bottom",!r.last),e.xp6(3),e.hij("Address ",o+1,""),e.xp6(10),e.Oqu(t.name),e.xp6(6),e.Oqu(t.city),e.xp6(6),e.Oqu(t.details),e.xp6(6),e.Oqu(t.phone)}}function A(s,r){if(1&s&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Oqu(t.errorMsg)}}function f(s,r){1&s&&(e.TgZ(0,"div",29),e._UZ(1,"i",30),e._uU(2," Your Address is added "),e.qZA())}function Z(s,r){1&s&&(e.TgZ(0,"p"),e._uU(1," Name is required "),e.qZA())}function v(s,r){if(1&s&&(e.TgZ(0,"div",28),e.YNc(1,Z,2,0,"p",27),e.qZA()),2&s){const t=e.oxw(2);let d;e.xp6(1),e.Q6J("ngIf",null==(d=t.AddAddressForm.get("name"))?null:d.getError("required"))}}function x(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function h(s,r){1&s&&(e.TgZ(0,"p"),e._uU(1," city is required "),e.qZA())}function T(s,r){if(1&s&&(e.TgZ(0,"div",31),e.YNc(1,h,2,0,"p",27),e.qZA()),2&s){const t=e.oxw(2);let d;e.xp6(1),e.Q6J("ngIf",null==(d=t.AddAddressForm.get("city"))?null:d.getError("required"))}}function q(s,r){1&s&&(e.TgZ(0,"p"),e._uU(1," details of Address is required "),e.qZA())}function b(s,r){if(1&s&&(e.TgZ(0,"div",31),e.YNc(1,q,2,0,"p",27),e.qZA()),2&s){const t=e.oxw(2);let d;e.xp6(1),e.Q6J("ngIf",null==(d=t.AddAddressForm.get("details"))?null:d.getError("required"))}}function C(s,r){1&s&&(e.TgZ(0,"p"),e._uU(1," phone is required "),e.qZA())}function F(s,r){1&s&&(e.TgZ(0,"p"),e._uU(1," phone lenght is 11 nums & start with 01 as 01088888888 "),e.qZA())}function U(s,r){if(1&s&&(e.TgZ(0,"div",28),e.YNc(1,C,2,0,"p",27),e.YNc(2,F,2,0,"p",27),e.qZA()),2&s){const t=e.oxw(2);let d,o;e.xp6(1),e.Q6J("ngIf",null==(d=t.AddAddressForm.get("phone"))?null:d.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=t.AddAddressForm.get("phone"))?null:o.getError("pattern"))}}function y(s,r){1&s&&e._UZ(0,"i",32)}function N(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}function I(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,A,2,1,"div",11),e.YNc(2,f,3,0,"div",12),e.TgZ(3,"form",13),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAddress(o.AddAddressForm))}),e.TgZ(4,"label",14),e._uU(5,"Name :"),e.qZA(),e._UZ(6,"input",15),e.YNc(7,v,2,1,"div",11),e.TgZ(8,"div",16)(9,"label",17),e._uU(10,"City :"),e.qZA(),e.TgZ(11,"select",18),e.YNc(12,x,2,1,"option",19),e.qZA(),e.YNc(13,T,2,1,"div",20),e.qZA(),e.TgZ(14,"label",21),e._uU(15,"Address details : "),e.qZA(),e._UZ(16,"input",22),e.YNc(17,b,2,1,"div",20),e.TgZ(18,"label",23),e._uU(19,"phone:"),e.qZA(),e._UZ(20,"input",24),e.YNc(21,U,3,2,"div",11),e.TgZ(22,"button",25),e.YNc(23,y,1,0,"i",26),e.YNc(24,N,2,0,"span",27),e.qZA()()()}if(2&s){const t=e.oxw();let d,o,l,c;e.xp6(1),e.Q6J("ngIf",t.errorMsg),e.xp6(1),e.Q6J("ngIf",t.successMsg),e.xp6(1),e.Q6J("formGroup",t.AddAddressForm),e.xp6(4),e.Q6J("ngIf",(null==(d=t.AddAddressForm.get("name"))?null:d.errors)&&((null==(d=t.AddAddressForm.get("name"))?null:d.touched)||t.notValidForm)),e.xp6(5),e.Q6J("ngForOf",t.cityList),e.xp6(1),e.Q6J("ngIf",(null==(o=t.AddAddressForm.get("city"))?null:o.errors)&&((null==(o=t.AddAddressForm.get("city"))?null:o.touched)||t.notValidForm)),e.xp6(4),e.Q6J("ngIf",(null==(l=t.AddAddressForm.get("details"))?null:l.errors)&&((null==(l=t.AddAddressForm.get("details"))?null:l.touched)||t.notValidForm)),e.xp6(4),e.Q6J("ngIf",(null==(c=t.AddAddressForm.get("phone"))?null:c.errors)&&((null==(c=t.AddAddressForm.get("phone"))?null:c.touched)||t.notValidForm)),e.xp6(2),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)}}const J=[{path:"",component:(()=>{class s{constructor(t,d){this._userAddressService=t,this._cityService=d,this.allAddresses=[],this.loading=!1,this.errorMsg="",this.notValidForm=!1,this.successMsg=!1,this.cityList=[],this.showForm=!1,this.AddAddressForm=new n.cw({name:new n.NI("",[n.kI.required]),details:new n.NI("",[n.kI.required]),phone:new n.NI("",[n.kI.required,n.kI.pattern(/^01[0125][0-9]{8}$/)]),city:new n.NI("",[n.kI.required])})}ngOnInit(){this.getAddress(),this.getcities()}getAddress(){this._userAddressService.getUserAddresses().subscribe({next:t=>{console.log(t.data),this.allAddresses=t.data},error:t=>{console.log(t)}})}deleteAddress(t){this._userAddressService.removeAddress(t).subscribe({next:d=>{console.log(d),this.allAddresses=d.data},error:d=>{console.log(d)}})}addAddress(t){t.valid?(this.loading=!0,this._userAddressService.addAddress(t.value).subscribe({next:d=>{this.errorMsg="",console.log(d),this.loading=!1,this.successMsg=!0,this.allAddresses=d.data},error:d=>{this.successMsg=!1,console.log(d),this.errorMsg=d.error.errors.msg,this.loading=!1}})):this.notValidForm=!0}getcities(){this._cityService.getcities().subscribe({next:t=>{console.log(t.results),this.cityList=t.results},error:t=>console.log(t)})}add(){this.showForm=!0}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_.k),e.Y36(p.Z))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-address"]],decls:8,vars:2,consts:[[1,"container","my-5","bg-main-light","p-5"],[1,"sec-heading"],["class","py-2",3,"border-bottom",4,"ngFor","ngForOf"],[1,"btn","main-btn","my-3",3,"click"],["class","w-50 mx-auto",4,"ngIf"],[1,"py-2"],[1,"d-flex","align-items-center","mb-2"],[1,"fw-bold","fs-5","m-0","p-0","me-4"],[1,"btn","sec-btn","btn-sm",3,"click"],[1,"fa-solid","fa-trash-can"],[1,"w-50","mx-auto"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup","ngSubmit"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Home,Work..etc",1,"form-control","mb-4"],[1,"city"],["for","city"],["aria-label","Default select example","id","city","formControlName","city",1,"form-select-sm","mb-4","mx-2"],[4,"ngFor","ngForOf"],["class","text-danger mb-5",4,"ngIf"],["for","details"],["type","text","id","details","formControlName","details",1,"form-control","mb-4"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control","mb-4"],["type","submit",1,"btn","bg-main","text-white","d-block","ms-auto"],["class","fa fa-spinner fa-spin",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"fa-solid","fa-check","me-2"],[1,"text-danger","mb-5"],[1,"fa","fa-spinner","fa-spin"]],template:function(t,d){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"My Addresses"),e.qZA(),e.YNc(3,g,32,7,"div",2),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return d.add()}),e._uU(6," +Add New Address "),e.qZA(),e.YNc(7,I,25,10,"div",4),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",d.allAddresses),e.xp6(4),e.Q6J("ngIf",d.showForm))},dependencies:[a.sg,a.O5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n.JJ,n.JL,n.sg,n.u]}),s})()}];let w=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.Bz.forChild(J),m.Bz]}),s})(),Y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[a.ez,w,n.UX]}),s})()}}]);